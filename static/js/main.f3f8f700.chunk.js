(this.webpackJsonpeuterpe=this.webpackJsonpeuterpe||[]).push([[0],{69:function(t,e){},74:function(t,e,i){},84:function(t,e,i){},85:function(t,e,i){},86:function(t,e,i){"use strict";i.r(e);var s=i(36),a=i.n(s),n=i(2),r=i.n(n),u=i(3),o=i(4),h=i(5),l=i.n(h),c=i(0),d=i(1),f=function(){function t(e,i,s,a,n,r){Object(c.a)(this,t),this.states=void 0,this.size=void 0,this.radius=void 0,this.rule=void 0,this._state=void 0,this.tempState=void 0,this.neighbourhoodCode=void 0,this.lookupTable=void 0,this.states=e,this.size=i,this.radius=s,this.rule=a,this._state=n,this.lookupTable=r,this.tempState=Array.from({length:i}),this.neighbourhoodCode=Array.from({length:i})}return Object(d.a)(t,[{key:"state",get:function(){return this._state}},{key:"evolve",value:function(){var t=this;this.state.forEach((function(e,i){t.evolveCellAt(i)}));var e=this.tempState;this.tempState=this._state,this._state=e}},{key:"evolveCellAt",value:function(t){var e=this.lookupTable.length-this.computeCodeFor(t)-1;this.tempState[t]=e>=0?this.lookupTable[e]:0}},{key:"computeCodeFor",value:function(t){var e,i=Math.pow(this.states,2*this.radius),s=0;if(0===t)for(var a=-this.radius;a<=this.radius;a++)e=this.wrappedIndex(a),s+=i*this._state[e],i/=this.states;else{e=this.wrappedIndex(t-this.radius-1);var n=i*this._state[e];e=this.wrappedIndex(t+this.radius);var r=this._state[e];s=(this.neighbourhoodCode[t-1]-n)*this.states+r}return this.neighbourhoodCode[t]=s,s}},{key:"wrappedIndex",value:function(t){return t<0?t+this.size:t>=this.size?t-this.size:t}}]),t}();f.Builder=function(){function t(){Object(c.a)(this,t),this.states=2,this.size=100,this.rule=0,this.randomInitialConfiguration=!1}return Object(d.a)(t,[{key:"withStates",value:function(t){if(t<1)throw new Error("Number of states must be greater than 1");return this.states=t,this}},{key:"withSize",value:function(t){if(this.size=t,t<=10)throw new Error("Size of cellular automata must be greater than 10");return this}},{key:"withRule",value:function(t){if(this.rule=t,t<0)throw new Error("Rule must be a positive number");return this}},{key:"withRandomInitialConfiguration",value:function(){return this.randomInitialConfiguration=!0,this}},{key:"build",value:function(){for(var t=this,e=Array.from(BigInt(this.rule).toString(this.states)),i=Array.from({length:e.length}),s=0;s<e.length;s++){var a=e[s];i[s]=a>="0"&&a<="9"?+e[s]-0:+e[s]-NaN}var n=this.randomInitialConfiguration?Array.from({length:this.size},(function(){return Math.round(Math.random())})):Array.from({length:this.size},(function(e,i){return i===Math.floor(t.size/2)?1:0}));return new f(this.states,this.size,1,this.rule,n,i)}}]),t}();var p=(new f.Builder).withSize(100).withRule(0).withStates(2).build(),m=l.a.createContext(p),v=function(){function t(e,i){Object(c.a)(this,t),this.step=0,this.cellSize=void 0,this.sketch=void 0,this.automata=void 0,this.sketch=e,this.automata=i,this.cellSize=e.width/i.size}return Object(d.a)(t,[{key:"setup",value:function(){this.sketch.noStroke()}},{key:"draw",value:function(){for(var t=0;t<this.automata.size;t++)this.setFillColor(this.automata.state[t]),this.sketch.rect(this.cellSize*t,this.step*this.cellSize,this.cellSize,this.cellSize);this.step++}},{key:"setFillColor",value:function(t){0===t?this.sketch.fill("#000000"):1===t?this.sketch.fill("#F36E44"):2===t&&this.sketch.fill("#568140")}}]),t}();v.Builder=function(){function t(){Object(c.a)(this,t),this.sketch=void 0,this.automata=void 0}return Object(d.a)(t,[{key:"withSketch",value:function(t){return this.sketch=t,this}},{key:"withAutomata",value:function(t){return this.automata=t,this}},{key:"build",value:function(){if(null===this.automata)throw new Error("Must pass a cellular automata upon building");if(null===this.sketch)throw new Error("Must pass a p5 sketch upon building");return new v(this.sketch,this.automata)}}]),t}();var b=i(37),w=(i(74),i(9)),k=i(6),j=function(t){var e="R",i="R",s=["R","B2","C3","D3","E3","F3","G3","A3","B3","C4"],a=!1,n=[new w.a({urls:{C4:"Giuseppe-C.mp3",D4:"Giuseppe-D.mp3",E4:"Giuseppe-E.mp3"},baseUrl:"./sounds/"}).toDestination(),new w.a({urls:{C4:"Giuseppe-C.mp3",D4:"Giuseppe-D.mp3",E4:"Giuseppe-E.mp3"},baseUrl:"./sounds/"}).toDestination(),new w.a({urls:{C4:"Giuseppe-C.mp3",D4:"Giuseppe-D.mp3",E4:"Giuseppe-E.mp3"},baseUrl:"./sounds/"}).toDestination()];w.b().then((function(){a=!0})),t.width=500,t.height=500;var r=p,u=(new v.Builder).withSketch(t).withAutomata(r).build();t.setup=function(){t.createCanvas(500,500),t.frameRate(4),u.setup()},t.updateWithProps=function(e){e.automata&&(t.clear(),r=e.automata,u=(new v.Builder).withSketch(t).withAutomata(r).build())},t.draw=function(){if(a){var o=t.frameCount%3,h=r.state.filter((function(t){return 0!==t})).length;e!==(i=s[h%s.length])&&(n[o].triggerRelease(e,w.c()),"R"!==i&&n[o].triggerAttack(i,w.c())),e=i,u.draw(),r.evolve()}}};function g(){return Object(k.jsx)(m.Consumer,{children:function(t){return Object(k.jsx)("div",{className:"CellularAutomataSketch",children:Object(k.jsx)(b.a,{customClass:"canvas",sketch:j,automata:t})})}})}i(84);function C(){var t=Object(h.useState)(!1),e=Object(o.a)(t,2),i=e[0],s=e[1],a=Object(h.useState)(0),n=Object(o.a)(a,2),l=n[0],c=n[1],d=Object(h.useState)(p),v=Object(o.a)(d,2),b=v[0],j=v[1];function C(){return(C=Object(u.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.d();case 2:s(!0),S(2);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var S=function(t){c(t),j((new f.Builder).withStates(2).withSize(100).withRule(t).build())};return Object(k.jsx)(m.Provider,{value:b,children:Object(k.jsxs)("div",{className:"Euterpe",children:[Object(k.jsxs)("h1",{className:"ruleHeader",children:["Playing rule: ",l]}),Object(k.jsx)(g,{}),i?Object(k.jsx)("button",{className:"ruleButton",onClick:function(){S(Math.round(255*Math.random()))},children:"Randomise Rule"}):Object(k.jsx)("button",{className:"startButton",onClick:function(){return function(){return C.apply(this,arguments)}()},children:"Start"})]})})}i(85);a.a.render(Object(k.jsx)(C,{}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.f3f8f700.chunk.js.map